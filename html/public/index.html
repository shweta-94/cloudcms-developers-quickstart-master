<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

    <script src="vendor/jquery/jquery.js"></script>
    <script src="vendor/gitana/gitana.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="vendor/bootstrap/css/bootstrap.min.css"/>

    <script src="bower_components/handlebars/handlebars.js"></script>

    <title>All the Authors 123 in your Sample Project</title>

    <script>
        Gitana.connect({
            "clientKey": "{{{clientKey}}}",
            "clientSecret": "{{{clientSecret}}}",
            "username": "{{{username}}}",
            "password": "{{{password}}}",
            "baseURL": "{{{baseURL}}}",
            "application": "{{{application}}}"
        }, function(err) {
            var html = "<table>";
            this.datastore("content").readBranch("master").queryNodes({
                "_type": "store:author"
            }).then(function() {

                var template = document.getElementById('cat-template').innerHTML;
                var renderCat = Handlebars.compile(template);
                document.getElementById('cat').innerHTML = renderCat(this);

                html += "</table>";

                var div = document.createElement('div');
                var count = document.createTextNode(this.title);
                div.append(count);
                $("#count").append(div);

                $("#result").append(html);
            });
        });

    </script>


</head>
<body>
<h1>Cloud CMS Example (using Proxy)</h1>

<div id="result"></div>

<div id="count"></div>

<template id="cat-template">
    <div class="cat">
        <h1>{{title}}</h1>
    </div>
</template>


</body>
</html>