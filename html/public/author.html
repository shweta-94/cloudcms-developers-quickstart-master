<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

    <script src="vendor/jquery/jquery.js"></script>
    <script src="vendor/gitana/gitana.js"></script>
    <script src="vendor/gitana/gitana.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="vendor/bootstrap/css/bootstrap.min.css"/>

    <script src="bower_components/handlebars/handlebars.js"></script>

    <title>Welcome Page</title>

    <h1>List of your custom definitions</h1>

    <section id="content">
        <header class="page-header mb30">
            <div class="container">
                <div class="row">
                    <div class="col-sm-12">
                        <h1>
                            <a href="/catalog/index.html">Authors</a>
                        </h1>
                    </div>
                </div>
            </div>
        </header>

        <section class="pt30 pb30">
            <div class="container clearfix">
                <div class="row">
                    <!-- categories filter -->
                    <nav id="filter" class="span12 text-center">
                        <div class="btn-group">
                            <div id = "boxContent">
                                <p>ere: {{array}}</p>
                            </div>
                            <a href="" class="btn btn-default" data-filter="*">All</a>
                            <a href="" class="btn btn-default" data-filter=".chocolate">Chocolate</a>
                            <a href="" class="btn btn-default" data-filter=".strawberry">Strawberry</a>
                            <a href="" class="btn btn-default" data-filter=".birthdays">Birthdays</a>
                        </div>
                    </nav>
                </div>
            </div>
        </section>
    </section>
</head>
<body id="page-top">

<div id="new-list">
</div>


</body>

<script type="text/javascript">
    function myFunction() {
        Gitana.connect({
            "clientKey": "{{{clientKey}}}",
            "clientSecret": "{{{clientSecret}}}",
            "username": "{{{username}}}",
            "password": "{{{password}}}",
            "baseURL": "{{{baseURL}}}",
            "application": "{{{application}}}"
        }, function (err) {
            var array = [];
            this.datastore("content").readBranch("master").listDefinitions('custom', {
                "limit": -1
            }).each(function () {
                array.push({
                        "title": this.title
                    });
                array.push(this.getQName());
            }).then(function () {
                var template = document.getElementById('content').innerHTML;
                var renderCat = Handlebars.compile(template);
                document.getElementById('boxContent').innerHTML = renderCat(array);

            })
        });
    }
</script>
</html>